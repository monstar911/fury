# **State Transitions**

This section defines the state transitions of the house module's KVStore in all scenarios:

## **Despoit**

When this is processed:

- If the sanoity checks for making a deposit passes, a new deposit will be created with the given data and will be added to the `house module's KVStore`. Like this:

```go
newDeposit := &types.Deposit{
    Creator:                msg.Creator,
    SportEventUID:          msg.SportEventUID,
    ParticipationIndex      <index of paticipation generated by code>
    Amount:                 msg.Amount,
    Fee                     <will be calculated when deposition>,
    Liquidity:              <free amount that is accessible by code and depositor>,
    WithdrawalCount:        <count of attempts of withdrawal>
    TotalWithdrawalAmount:  <total withdrawal attempts>
}
```

---

## **Withdraw**

When this  is processed:

- If the amount is withdrawable, the following changes will be made to the bet-

    ```go
    bet.TotalWithdrawalAmount = bet.TotalWithdrawalAmount + Withdrawal Amount
    ```

- the order book participation will create in the backgroud and its index will be assigned to the deposit
